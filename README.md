# experimental_basket-backend

## Content

this repo will be created and managed by system repository https://github.com/padreSVK/experimental_.basket-system

all backstage entities will be in namespace `experiments`, for all references use full qualified name <kind>:<namespace>/<name>
all entities have owner group:experiments/team-bravo and belongs under system `basket`

## APIs

* **Kind: API, type: openapi**
  * basket-v1-api - Version 1 of the Basket API
    * definition: `$text: http://dotnet-demo.flux-test-tenant.svc.cluster.local/.less-known/api-docs/v1.json`
  * basket-v2-api - Version 2 of the Basket API
    * definition: `$text: http://dotnet-demo.flux-test-tenant.svc.cluster.local/.less-known/api-docs/v2.json`
  * basket-v3-api - Version 3 of the Basket API
    * definition: `$text: http://dotnet-demo.flux-test-tenant.svc.cluster.local/.less-known/api-docs/v3.json`

## Components

* **Kind: Component, type: dotnet-api**
  * dotnet-api-basket - .NET API service for basket functionality
  * providesApis:
    * api:experiments/basket-v1-api
    * api:experiments/basket-v2-api
    * api:experiments/basket-v3-api
  * dependsOn:
    * resource:experiments/basket-redis
    * resource:experiments/k8s-cluster-development
    * resource:experiments/k8s-cluster-staging
    * resource:experiments/k8s-cluster-production
    * resource:experiments/kafka-topic-basket
    * resource:experiments/redis-access-dotnet-api-basket-development
    * resource:experiments/redis-access-dotnet-api-basket-staging
    * resource:experiments/redis-access-dotnet-api-basket-production

## Resources

* **Kind: Resource, type: redis-server**
  * basket-redis - Redis server for basket system
  * owner: group:experiments/team-bravo
  * environments: development, staging, production (all with continuous deployment enabled)
  * dependsOn:
    * resource:experiments/k8s-cluster-development
    * resource:experiments/k8s-cluster-staging
    * resource:experiments/k8s-cluster-production

* **Kind: Resource, type: redis-access** (3x environments)
  * redis-access-dotnet-api-basket-development
  * redis-access-dotnet-api-basket-staging
  * redis-access-dotnet-api-basket-production
  * provideAccess: component:experiments/dotnet-api-basket
  * dependsOn: resource:experiments/basket-redis
  * Note: This relation will be generated by processor and Scaffolder

## Structure

```
experimental_basket-backend/
├── catalog-info.yaml (Location entities with wildcard references)
├── apis/
│   └── basket-apis.yaml (v1, v2, v3 APIs)
├── components/
│   └── dotnet-api-basket.yaml (.NET API service)
└── resources/
    ├── redis.yaml (Redis server)
    └── redis-access.yaml (3x environment access)
```

## Purpose

This repository contains the backend API and infrastructure for the basket system, providing:
- RESTful APIs for basket operations (v1, v2, v3)
- .NET API service with Redis caching
- Redis infrastructure and access management
- Environment-specific resource configurations
- Integration with Kafka for event streaming 
